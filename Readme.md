## Bang

Sugar for `go generate`. 

Reads yml data from .go source file and render template with variables.

### How to use it

1. Install:
```bash
go install github.com/tada-team/bang
```

2. Write line `//go:generate bang $GOFILE:$GOLINE`, and `//`-commented yaml content below that line:

```go
package mypackage

//go:generate bang $GOFILE:$GOLINE
//  
//  ...yaml...
//
```

...where yaml has the following format:

```yaml
- template: <go template contents>
- vars: <variables for template>
- dest: <filename for saving template render results>
```

3. run `go generate`

Template will be rendered and code wil be formatted.

### Example
Source: `main.go`
```go
package main

//go:generate bang $GOFILE:$GOLINE
// dest: main_generated.go
// vars:
//   package: main
//   types:
//    - int
//    - float64
// template: >
//   package {{.package}}
//
//   {{ range $type := .types }}
//       func {{ $type }}Sum(a, b {{ $type }}) {{ $type }} {
//           return a + b
//       }
//   {{ end }}
//
```

Result: `main_generated.go`

```go
// Code generated by Bang.go DO NOT EDIT.

package main

func intSum(a, b int) int {
	return a + b
}

func float64Sum(a, b float64) float64 {
	return a + b
}
```

### Optional command line flags

You can use `-dest` or/and `-template` flats instead `dest`/`template` keys in yaml.

```go
package main

//go:generate bang -dest=main_generated.go -template=main.tpl $GOFILE:$GOLINE
// vars:
//   package: main
//   types:
//    - int
//    - float64
```

`main.tpl`:
```gotemplate
package {{.package}}

{{ range $type := .types }}
  func {{ $type }}Sum(a, b {{ $type }}) {{ $type }} {
    return a + b
  }
{{ end }}
```
