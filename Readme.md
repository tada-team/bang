## Bang

Sugar for `go generate`. 

Reads yml data from .go source file and render template with variables.

### How to use it

1. Install:
```bash
go install github.com/tada-team/bang
```

2. Write line `//go:generate bang $GOFILE:$GOLINE`, and `//`-commented yaml content below:

```go
package mypackage

//go:generate bang $GOFILE:$GOLINE
//  
//  ...yaml...
//
```

Yaml format is:

```yaml
template: <go template contents>
vars: <variables for template>
dest: <filename for saving rendered template>
```

3. run `go generate`

Template will be rendered and code wil be formatted.

### Example
```go
package main

//go:generate bang $GOFILE:$GOLINE
// dest: main_generated.go
// vars:
//   package: main
//   types:
//    - int
//    - float64
// template: >
//   package {{ .package }}
//
//   {{ range $type := .types }}
//       func {{ $type }}Sum(a, b {{ $type }}) {{ $type }} {
//           return a + b
//       }
//   {{ end }}
//
```

Result (`main_generated.go`):

```go
// Code generated by Bang.go DO NOT EDIT.

package main

func intSum(a, b int) int {
	return a + b
}

func float64Sum(a, b float64) float64 {
	return a + b
}
```

### Optional command line flags

* `-dest` argument overrides `dest` key in yaml
* `-template` argument overrides `template` key in yaml
* `-vars` argument overrides `vars` key in yaml
* `-verbose` argument adds more output

Example: 

```go
package main

//go:generate bang -verbose -dest=main_generated.go -template=main.tpl $GOFILE:$GOLINE
```

`vars.tpl`:
```yaml
package: main
types:
 - int
 - float64
```

`main.tpl`:
```gotemplate
package {{ .package }}

{{ range $type := .types }}
  func {{ $type }}Sum(a, b {{ $type }}) {{ $type }} {
    return a + b
  }
{{ end }}
```
